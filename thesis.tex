\documentclass[%
bachelor,       % тип документа
natbib,         % использовать пакет natbib для "сжатия" цитирований
subf,           % использовать пакет subcaption для вложенной нумерации рисунков
href,           % использовать пакет hyperref для создания гиперссылок
colorlinks=true, % цветные гиперссылки
%,fixint=false  % отключить прямые знаки интегралов
%times         % шрифт Times как основной
]{disser}


%\usepackage[
%  a4paper, mag=1000,
  %left=2.5cm, right=1cm, top=2cm, bottom=2cm, headsep=0.7 cm, footskip=1cm
%]{geometry}
\usepackage[
a4paper, mag=1000,
left=3cm, right=2cm, top=2cm, bottom=2cm, headsep=0.7cm, footskip=1cm
]{geometry}

\usepackage[T2A]{fontenc}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}
%\usepackage{tabularx,longtable}
\ifpdf\usepackage{epstopdf}\fi
\usepackage{microtype}
\usepackage[procnames]{listings}

\usepackage{footmisc}

% Плавающие рисунки "в оборку".
\usepackage{wrapfig}
%Нумерованные списки
\usepackage{enumerate}

\usepackage{rotating}

 \DeclareCaptionLabelFormat{r-parens}{{#2)}} %Define our custom label
\captionsetup[sub]{              % The subcaption settings
    font=footnotesize,           % Make the font smaller for both label and text
    textfont=sl,                 % Make only the caption text slanted
    labelformat=r-parens}

%\usepackage{booktabs}

\usepackage[tableposition=top]{caption}
\usepackage{subcaption}
\DeclareCaptionLabelFormat{gostfigure}{Рисунок #2}
\DeclareCaptionLabelFormat{gosttable}{Таблица #2}
\DeclareCaptionLabelSeparator{gost}{~---~}
\captionsetup{labelsep=gost}
\captionsetup[figure]{labelformat=gostfigure}
\captionsetup[table]{labelformat=gosttable}
\renewcommand{\thesubfigure}{\asbuk{subfigure}}
% Номера страниц снизу и по центру
\pagestyle{footcenter}
\chapterpagestyle{footcenter}

% Точка с запятой в качестве разделителя между номерами цитирований
%\setcitestyle{semicolon}

% Использовать полужирное начертание для векторов
\let\vec=\mathbf

% Включать подсекции в оглавление
\setcounter{tocdepth}{2}

\graphicspath{{fig/}}

%Формат таблиц
\usepackage{multirow}
%\usepackage{caption}
%\DeclareCaptionFormat{myformat}{\hspace*{14cm} #1\\ #3}
%\captionsetup[table]{singlelinecheck=off,justification=centering,position=above,
%                     font={singlespacing,small},textfont=bf,skip=15pt,format=myformat}

\begin{document}
% Переопределение стандартных заголовков
%\def\contentsname{Содержание}
%\def\conclusionname{Выводы}
%\def\bibname{Литература}
\renewcommand{\lstlistingname}{Листинг}
\def\lstlistingautorefname{лис\-тинге}
\def\appendixautorefname{прил.}
\def\tableautorefname{таблицы}

%Подсветка синтаксиса а листингах
\definecolor{keywords}{RGB}{160,0,0}
\definecolor{comments}{RGB}{0,0,113}
\definecolor{red}{RGB}{0,150,0}

\lstset{language=Python, 
        basicstyle=\ttfamily\small, 
        keywordstyle=\color{keywords},
        commentstyle=\color{comments},
        stringstyle=\color{red},
        showstringspaces=false,
        procnamekeys={def,class}}
 
\institution{
Министерство образования и науки Российской Федерации\\
федеральное государственное автономное образовательное учреждение высшего образования\\
“САНКТ-ПЕТЕРБУРГСКИЙ НАЦИОНАЛЬНЫЙ ИССЛЕДОВАТЕЛЬСКИЙ \\
УНИВЕРСИТЕТ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ, \\
МЕХАНИКИ И ОПТИКИ”
}


\title{ПОЯСНИТЕЛЬНАЯ   ЗАПИСКА  К\\
}

\topic{Реализация программного комплекса ... ЧПУ}

% Автор
\author{Крылова Анастасия Андреевна} % ФИО
\group{4652} % Группа
\coursenum{230100.62} % Номер специальности
\course{Информатика и вычиcлительная техника} % Название специальности

% Научный руководитель
\sa      {Афанасьев М.Я.       к.т.н., доцент }
%\sastatus{д.~ф.-м.~н., ст.~н.~с.}

% Имя лица, допускающего к защите (зав. кафедрой)
\apname{Яблочников Е.И., к.т.н., доцент}

% Город и год
\city{Санкт-Петербург}
\date{\number\year}
\renewcommand\postthesection{~}
\renewcommand\postthesubsection{~}
%\renewcommand\tocsubsectionfill{\tocfill{}}
\renewcommand\tocpostthesubsection{}
\renewcommand\tocpostthesection{}
\renewcommand\tocpostthechapter{}
\renewcommand\tocposttheappendix{\ \;}
\maketitle
 \hyphenpenalty=10000
% Содержание
\tableofcontents
\hyphenpenalty=50
%список сокращений
%убираем точку в номерах заголовков
\input{abbrev}
% Введение
\input{intro}
% Глава 1
\input{1}
% Глава 2
\input{2}
% Глава 3
\input{3}
% Заключение
\input{concl}

% Список литературы
%bibtex8 -H -c cp1251.csf thesis.aux
\bibliography{thesis}
\bibliographystyle{gost705}
%Приложения
\appendix
\input{app-a}
\input{app-b}
\input{app-c}
\input{app-d}
\input{app-e}
\input{app-f}

\end{document}
