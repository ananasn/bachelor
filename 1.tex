 \def\figureautorefname{рис.}
\chapter{Сравнительный анализ современных систем с предлагаемым подходом}
\section{Современные системы автоматизированной подготовки УП для гравировальных станков с ЧПУ}
В настоящее время существует большое количество CAM-систем, однако малая часть из них пригодна для получения УП для гравировальных станков. Это обуславливается тем, что CAM-системы  чаще всего работают с \mbox{3D-моделями} или векторным представлением изображения, а большинство изображений \mbox{являются} растровыми. Таким образом, в настояшее время можно выделить три способа получения УП из растрового изображения:
\begin{itemize} 
\item Предварительная векторизация изображения и сохранение его в формате DXF или аналогичных. Затем, подача полученного файла в CAM-систему.
\item Использование специализированных систем для подготовки УП для гравировальных станков.
\item Использование программного обеспечения, предлагаемого производителем станка.
\end{itemize}
{\bfseries Первый способ.} Первый этап данного способа -- векторизация. Векторизация -- это довольно трудоемкий и сложный процесс. Степень  автоматизации этого процесса чрезвычайно низкая. Трассировка растра может \mbox{осуществляться} с~помощью специальных систем, например Scan2Cad, Corel Draw, Inkscape или WinTOPO, однако стоит отметить, что их применение не всегда целесообразно. Качественная трассировка получается только в случае очень простых изображений. Если же изображение имеет много деталей, то эти детали \mbox{теряются}\,(\autoref{fig:ras2vec}), либо происходит перегрузка изображения большим количеством \mbox{пересекающихся контуров}\,(\autoref{fig:ras2vec_plat}). Таким образом, в настоящее время многие специалисты предлагают услуги ручной векторизации, которая произовидится художником в ручную с помощью векторных редакторов. Стоит отметить, что стоимость таких услуг достаточно высокая.

\begin{figure}[h!]
    \centering
    \includegraphics[width=.8\textwidth]{ras2vec.png}
    \caption[Трассировка растрового изображения в программе Inkscape]
            {Трассировка растрового изображения в программе Inkscape}
    \label{fig:ras2vec}
\end{figure} 

\begin{figure}[h!]
    \centering
    \includegraphics[width=.8\textwidth]{ras2vec_plat.png}
    \caption[Трассировка растрового изображения разводки платы в программе Inkscape]
            {Трассировка растрового изображения  разводки платы в программе Inkscape}
    \label{fig:ras2vec_plat}
\end{figure} 
Предварительная векторизация требуется для того, чтобы в  дальнейшем можно было загрузить изображение в CAM-систему. Таким образом, второй этап имеет высокую степень автоматизации. Например, система PyCAM принимает на вход DXF и SVG файлы. Следовательно, получив векторное изображение, можно получить и УП.

Однако такой двухэтапный подход имеет значительные недостатки:
\begin{itemize} 
\item высокая стоимость и трудоемкость векторизации;
\item потеря некоторых деталей в случае использования систем с функцией трассировки;
\item использование только таких CAM-систем, которые поддерживают форматы DXF и SVG.
\end{itemize} 
{\bfseries Второй способ.} Специализированных программных продуктов для \mbox{получения} УП для гравировальных станков не так много. На данный момент самая \mbox{используемая} система -- это система ArtCAM. Для анализа ArtCAM по \mbox{основным} характеристикам качества, выбирается модель качества программного обеспечения, представленная в наборе стандартов ISO/IEC 25010:2011, поскольку именно она в большей степени, чем остальные аналоги, отражает качественные характеристики с точки зрения пользователя. В ней выделено шесть показателей:
\begin{itemize}
\item функциональность;
\item надежность;
\item удобство;
\item эффективность;
\item сопровождаемость;
\item портируемость.
\end{itemize}

{\it Функциональность}. С точки зрения функциональности ArtCAM не уступает своим аналогам. Широкий набор функций позволяет легко подготовить УП для нанесения изображения. ArtCAM имеет встроенный графический редактор, который является довольно полезным инструментом, так как с его помощью можно отредактировать, например, яркость и контрастность, что в большинстве случаев позволяет нейтрализовать дефекты, порождаемые растровым представлением. Однако поддержка других функций графического редактора скорее приводит к избыточности, так как они для гравировки не являются востребованными. Также в ArtCAM присутствуют инструменты сглаживания непосредственно на 3D-модели рельефа, что позволяет сразу увидеть прототип будущего изделия и отредактировать его.

{\it Надежность}.  Надежность в данной работе не будет рассмотрена, так как достоверные данные возможно получить лишь при длительном использовании системы.

{\it Удобство}. ArtCAM построена в виде традиционного десктопного приложения. Таким образом, обычный кнопочный интерфейс с разнообразными панелями инструментов и полем для редактирования является достаточно привычным для пользователя. Однако появляется и типичный недостаток такого подхода -- из-за большого  количества иконок и панелей не всегда интуитивно понятно, для чего они предназначены. Ипользование системы становится невозможным без предварительного обучения и чтения справочной документации.

{\it Эффективность}. Под эффективностью чаще всего подразумевается потребляемость ресурсов. Минимальная версия ArtCAM занимает не слишком много места -- около 700\,Мб. Однако рекомендуемые характеристики для оборудования довольно высокие. Так, например, требуется процессор не ниже IntelCore\,i7 (или аналоги) и 16\,Гб RAM. Таким образом, данная система будет работать эффективно только на довольно дорогом оборудовании.

{\it Сопровождаемость}. Как известно сопровождаемость десктопных приложений довольно трудоемкая задача в том числе и для пользователей. В отличии от веб-приложений, где изменения на сервере сразу доступны пользователям, для десктопного приложения потребуется скачать пакет обновлений или, так называемый, патч.

{\it Портируемость}. Основной характеристикой портируемости является мультиплатформенность. ArtCAM поддерживает только платформу Windows, а~\mbox{именно} Windows версий 7 и 8.

Из выше сказанного следует, что ArtCAM имеет следующие недостатки:
\begin{itemize}
\item высокая стоимость;
\item из-за изобилия функций и настроек освоение системы требует времени;
\item требования к оборудованию достаточно высокие, что влияет на стоимость ТПП;
\item отсутствует мультиплатформенность;
\end{itemize}

{\bfseries Третий способ}, а именно -- использование утилит предлагаемых производителем используемого станка, чаще всего имеет те же недостатки, что и второй способ. Однако такие утилиты чаще всего предоставляются бесплатно или частично бесплатно.

\section{Предлагаемый подход}
После краткого анализа существующих систем был сделан вывод о том, что для упразднения недостатков необходимо изменить подход к генерации УП. Предлагаемый подход состоит в применении веб-технологий, где система представляет собой веб-приложение.

Веб-приложение построено на клиент-серверной архитектуре\,(\autoref{fig:client-server}), где в качестве клиента выступает веб-браузер, а в качестве сервера -- веб-сервер. 
\begin{figure}[h!]
    \centering
    \includegraphics[width=.5\textwidth]{client-server.png}
    \caption[Клиент-серверная архитектура]
            {Клиент-серверная архитектура}
    \label{fig:client-server}
\end{figure} 

Идея клиент-серверной архитектуры такова: клиент и сервер взаимодействуют друг с другом через компьютерную сеть посредством сетевых протоколов (для веб-приложений это протокол HTTP); клиент в соответствии с действиями пользователя посылает запросы (чаще всего это HEAD, GET и POST); сервер в~соответствии с запросами либо запускает какой-либо процесс, либо предоставляет доступ к своим ресурсам в виде данных. На сервере хранятся статические файлы (js-файлы, файлы каскадных таблиц стилей, html-шаблоны, изображения и т.д), файл для запуска сервера, файл с конфигурацией сервера, файл с обработчиками запросов и файлы с программами, представляющими функционал системы (программа генерации УП, программа генерации 3D-моделей и т.д). Такое жесткое разграничение логики, данных и обработчиков позволяет легко отлаживать работу и вносить изменения(\autoref{app:root}).

Клиентская часть приложения -- браузер, через который пользователь имеет доступ к ресурсам сервера. Также на клиентской части можно реализовать дополнительный функционал системы -- редактор загружаемых изображений и просмотрщик 3D-моделей.

Такой подход имеет множество плюсов:
\begin{itemize}
\item мультиплатформенность;
\item мобильность;
\item экономия вычислительных ресурсов и, соответственно, затрат на оборудование;
\item отсутствие необходимости установки;
\item быстрое обновление системы.
\end{itemize}

После загрузки изображения на сервер оно подвергается  обработке. В~большинстве систем производится векторизация, недостатки которой отмечались \mbox{ранее}. В~данном подходе программы, хранящиеся на сервере, проделывают \mbox{манипуляции} с пикселями, в результате чего строится 3D-модель и генерируется управляющая программа.

Такой подход позволяет сохранить все детали изображения, а дефекты, \mbox{вызываемые} растровым представлением, устранить посредством настройки \mbox{яркости} и контрастности.

\section{Результаты сравнения}
Для подведения итога приводится результирующая таблица сравнения современных систем и предлагаемого подхода.

\begin{table}[!ht]
\caption{Результирующая таблица сравнения современных систем и предлагаемого подхода}
\begin{center}
\footnotesize 
\begin{tabular}{|c|p{0.15\linewidth}|c|p{0.15\linewidth}|c|}
    \hline
  	\bf \multirow{4}{*}{Параметры}&  \centering \bf Двухэтапный способ с векторизацией изображения& \bf\multirow{4}{*}{ArtCAM} &\centering \bf \mbox{ПО для станка} (3D-Engrave Software Roland)&\bf\multirow{4}{*}{Предлагаемый подход}\\
    \hline   
    Степень автоматизации &  \centering низкая & высокая & \centeringвысокая &  высокая\\
    \hline   
    \centering  Стоимость &  \centering низкая/высокая & высокая & \centering отсутствует &  отсутствует\\
    \hline   
   Мультиплатформенность &  \centering присутствует & отсутствует &\centering отсутствует &  присутствует\\
    \hline    
    Сопровождение &  \centering отсутствует & присутствует & \centering присутствует &  присутствует\\
    \hline  
    Функциональность &  \centering широкая& широкая & \centering узкая & широкая\\
    \hline  
\end{tabular}
\normalsize
\end{center}
\end{table}

Из данной таблицы видно, что предлагаемый подход лучше по всем приведенным выше параметрам.